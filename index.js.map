{"version":3,"file":"index.js","sources":["../src/render-functions.js","../src/pixabay-api.js","../src/main.js"],"sourcesContent":["const picsList = document.querySelector('.gallery');\n\nfunction renderImages(pics) {\n  const markup = pics\n    .map(pic => {\n      return `<li class=\"gallery-item\">\n  \n        <a class=\"gallery-link\" href=${pic.webformatURL}> \n          <img\n            class=\"gallery-image\"\n            src=${pic.webformatURL}\n            alt='${pic.tags}'\n  \n          />\n          </a>\n          <ul class='properties'>\n          <li class='property'><div class='key'>Likes</div> ${pic.likes}</li>\n          <li class='property'><div class='key'>Views </div> ${pic.views}</li>\n          <li class='property'><div class='key'>Comments </div> ${pic.comments}</li>\n          <li class='property'><div class='key'>Downloads </div> ${pic.downloads}</li>\n          \n          \n  \n  \n  </ul>\n  \n          </li>\n          `;\n    })\n    .join('');\n  picsList.insertAdjacentHTML('beforeend', markup);\n  loadMore.style.display = 'block';\n}\n\nexport { renderImages };\n","import axios from 'axios';\nlet totalHits = 0;\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nasync function searchImages(query, page = 1) {\n  const params = {\n    key: '46119113-9d91afa1c686c5ea1318b0639',\n    q: encodeURIComponent(query),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    page: page,\n    per_page: '20',\n  };\n  loadingMessage.style.display = 'block';\n\n  try {\n    const response = await axios.get('', { params });\n    loadingMessage.style.display = 'none';\n    totalHits = response.data.totalHits;\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    loadingMessage.style.display = 'none';\n  }\n}\n\nexport { searchImages };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { renderImages } from './render-functions.js';\nimport { searchImages } from './pixabay-api.js';\n\nconst fetchPicsBtn = document.querySelector('#searchButton');\nconst picsList = document.querySelector('.gallery');\nconst input = document.querySelector('#input');\nconst loadingMessage = document.querySelector('#loadingMessage');\nconst loadMore = document.querySelector('#loadMore');\nlet currentPage = 1;\n\nfetchPicsBtn.addEventListener('click', async event => {\n  event.preventDefault();\n  picsList.innerHTML = '';\n  loadMore.style.display = 'none';\n  loadingMessage.style.display = 'block';\n  const query = input.value.trim();\n  try {\n    const pics = await searchImages(query);\n\n    if (pics.hits.length === 0) {\n      console.log('No pics');\n      iziToast.error({\n        title: '',\n        titleColor: '#FFFFFF',\n        message:\n          ' Sorry, there are no images matching your search query. Please, try again!',\n        iconUrl:\n          'https://raw.githubusercontent.com/versroot/goit-js-hw-11/refs/heads/main/src/img/bi_x-octagon.svg',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n        close: true,\n        maxWidth: '432px',\n\n        fontSize: '16px',\n        fontWeight: '400',\n        lineHeight: '24px',\n        letterSpacing: '0.5px',\n\n        onOpening: closeX,\n      });\n    } else {\n      renderImages(pics.hits);\n      lightboxgallery.refresh();\n    }\n    loadingMessage.style.display = 'none';\n  } catch (error) {\n    console.log(error);\n    loadingMessage.style.display = 'none';\n  }\n});\n\nfunction closeX(instance, toast) {\n  var closeButton = toast.querySelector('.iziToast-close');\n  closeButton.style.backgroundColor = 'transparent';\n  closeButton.style.backgroundImage =\n    \"url('https://raw.githubusercontent.com/versroot/goit-js-hw-11/refs/heads/main/src/img/bi_x-lg.svg')\";\n  closeButton.style.backgroundSize = 'contain';\n  closeButton.style.width = '16px';\n  closeButton.style.height = '16px';\n\n  closeButton.style.color = 'transparent';\n  closeButton.style.margin = '18px';\n}\nlet lightboxgallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n\n  captionDelay: 250,\n});\nlightboxgallery.on('show.simplelightbox', function () {});\n\nloadMore.addEventListener('click', async event => {\n  event.preventDefault();\n  currentPage += 1;\n});\n\nloadMore.addEventListener('click', async event => {\n  event.preventDefault();\n  currentPage += 1;\n  const query = input.value.trim();\n  try {\n    const pics = await searchImages(query, currentPage);\n\n    if (pics.hits.length === 0) {\n      console.log('No pics');\n      iziError;\n    } else {\n      renderImages(pics.hits);\n      lightboxgallery.refresh();\n    }\n    loadingMessage.style.display = 'none';\n  } catch (error) {\n    console.log(error);\n    loadingMessage.style.display = 'none';\n  }\n});\n"],"names":["picsList","renderImages","pics","markup","pic","totalHits","axios","searchImages","query","page","params","response","error","fetchPicsBtn","input","loadingMessage","loadMore","currentPage","event","iziToast","closeX","lightboxgallery","instance","toast","closeButton","SimpleLightbox"],"mappings":"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"}